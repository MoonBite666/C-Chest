#include "define.h"
#include "maps.h"

int map[MAX_STAGE][15][15] = {
    // 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
    // 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
    // 9, 9, 9, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 9, 9,
    // 9, 9, 9, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 9, 9,
    // 9, 9, 9, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 9, 9,
    // 9, 9, 9, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 9, 9,
    // 9, 9, 9, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 9, 9,
    // 9, 9, 9, 1, 0, 0, 0, 3, 0, 0, 0, 0, 1, 9, 9,
    // 9, 9, 9, 1, 0, 0, 0, 2, 0, 0, 0, 0, 1, 9, 9,
    // 9, 9, 9, 1, 0, 0, 0, -1, 0, 0, 0, 0, 1, 9, 9,
    // 9, 9, 9, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 9, 9,
    // 9, 9, 9, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 9, 9,
    // 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 
    // 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 
    // 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
    //stage 0
    9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
    9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 8, 9, 9,
    9, 9, 8, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
    9, 9, 9, 9, 9, 1, 1, 1, 9, 9, 9, 9, 9, 9, 9,
    9, 9, 8, 9, 9, 1, 3, 1, 9, 9, 9, 9, 9, 9, 9,
    9, 9, 9, 9, 9, 1, 0, 1, 1, 1, 1, 9, 9, 9, 9,
    9, 9, 9, 1, 1, 1, 2, 0, 2, 3, 1, 9, 9, 9, 9,
    9, 9, 9, 1, 3, 0, 2,-1, 1, 1, 1, 9, 9, 9, 9,
    9, 9, 9, 1, 1, 1, 1, 2, 1, 9, 9, 9, 9, 9, 9,
    9, 9, 9, 9, 9, 9, 1, 3, 1, 9, 9, 9, 9, 9, 9,
    9, 8, 9, 9, 9, 9, 1, 1, 1, 9, 9, 9, 8, 9, 9,
    9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
    9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
    9, 9, 9, 8, 9, 9, 8, 9, 9, 9, 9, 9, 9, 9, 9,
    9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
    //stage 1
    9, 10,9, 9, 9, 11,9, 9, 9, 9, 9, 10,9, 9, 9,
    9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
    9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
    9, 7, 9, 1, 1, 1, 1, 1, 9, 9, 9, 9, 9, 9, 9,
    9, 9, 9, 1, -1,0, 0, 1, 9, 9, 9, 9, 7, 9, 9,
    9, 9, 9, 1, 0, 2, 2, 1, 9, 1, 1, 1, 9, 9, 9, 
    9, 9, 9, 1, 0, 2, 0, 1, 9, 1, 3, 1, 9, 9, 9,
    9, 9, 9, 1, 1, 1, 0, 1, 1, 1, 3, 1, 9, 7, 9,
    9, 9, 9, 9, 1, 1, 0, 0, 0, 0, 3, 1, 9, 9, 9,
    9, 7, 9, 9, 1, 0, 0, 0, 1, 0, 0, 1, 9, 9, 9,
    9, 9, 9, 9, 1, 0, 0, 0, 1, 1, 1, 1, 9, 9, 9,
    9, 9, 9, 9, 1, 1, 1, 1, 1, 9, 9, 9, 9, 9, 9,
    9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
    9, 6, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
    9, 9, 9, 9, 9, 9, 9, 9, 9, 6, 9, 9, 9, 9, 9,
    //stage 2
    9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
    9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
    9, 12,9, 9, 9, 9, 9, 9, 9, 13,9, 9, 9, 9, 9,
    9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
    9, 9, 9, 9, 1, 1, 1, 1, 1, 1, 1, 12,9, 9, 9,
    9, 9, 9, 9, 1, 0, 0, 0, 0, 0, 1, 1, 1, 9, 9,
    9, 9, 9, 1, 1, 2, 1, 1, 1, 0, 0, 0, 1, 9, 9,
    9, 9, 13,1, 0,-1, 0, 2, 0, 0, 2, 0, 1, 9, 9,
    9, 9, 9, 1, 0, 3, 3, 1, 0, 2, 0, 1, 1, 9, 9,
    9, 9, 9, 1, 1, 3, 3, 1, 0, 0, 0, 1, 9, 9, 9,
    9, 9, 9, 9, 1, 1, 1, 1, 1, 1, 1, 1, 9, 9, 9,
    9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
    9, 12,9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
    9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 13,9, 9,
    9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
    //stage 3
    9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
    9, 14,9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
    9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
    9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
    9, 9, 9, 9, 9, 1, 1, 1, 1, 1, 1, 9, 9, 9, 9,
    9, 9, 9, 9, 9, 1, 0, 0, 0, 0, 1, 9, 14,9, 9,
    9, 9, 9, 1, 1, 1, 2, 2, 2, 0, 1, 9, 9, 9, 9,
    9, 9, 9, 1,-1, 0, 2, 3, 3, 0, 1, 9, 9, 9, 9,
    9, 9, 9, 1, 0, 2, 3, 3, 3, 1, 1, 9, 9, 9, 9,
    9, 9, 9, 1, 1, 1, 1, 0, 0, 1, 9, 9, 9, 9, 9,
    9, 9, 9, 9, 14,9, 1, 1, 1, 1, 9, 9, 9, 9, 9,
    9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
    9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 14,9, 9,
    9, 9, 14,9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
    9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
    //stage 4
    9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
    9, 9, 9, 15,9, 9, 9, 9, 9, 15,9, 9, 9, 9, 9,
    9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 15,9,
    9, 9, 9, 9, 9, 1, 1, 1, 1, 15,9, 9, 9, 9, 9,
    9, 9, 15,9, 9, 1, 3, 3, 1, 9, 9, 9, 9, 9, 9,
    9, 9, 9, 9, 1, 1, 0, 3, 1, 1, 9, 9, 9, 9, 9,
    9, 9, 9, 9, 1, 0, 0, 2, 3, 1, 9, 9, 9, 9, 9,
    9, 9, 9, 1, 1, 0, 2, 0, 0, 1, 1, 15,9, 9, 9,
    9, 9, 9, 1, 0, 0, 1, 2, 2, 0, 1, 9, 9, 9, 9,
    9, 9, 9, 1, 0, 0,-1, 0, 0, 0, 1, 9, 9, 9, 9,
    9, 15,9, 1, 1, 1, 1, 1, 1, 1, 1, 9, 9, 9, 9,
    9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 15,9, 9,
    9, 9, 9, 9, 9, 15,9, 15,9, 9, 9, 9, 9, 9, 9,
    9, 15,9, 9, 9, 9, 9, 9, 9, 9, 15,9, 9, 9, 9,
    9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9
};

int player[2];
WORD ground_color[MAX_STAGE] = {BLACK,
 FOREGROUND_GREEN | FOREGROUND_RED, 
 FOREGROUND_GREEN, 
 BLACK, 
 FOREGROUND_GREEN | FOREGROUND_RED};

WORD void_color[MAX_STAGE] = {
    FOREGROUND_BLUE | FOREGROUND_GREEN,
    FOREGROUND_BLUE,
    FOREGROUND_GREEN | FOREGROUND_RED,
    FOREGROUND_GREEN,
    FOREGROUND_RED
};

char stage_name[MAX_STAGE][20] = {
    "星空",
    "海底",
    "沙漠",
    "丛林",
    "火山"
};